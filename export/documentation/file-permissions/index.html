  <style>
        .parallax-section {
            position: relative;
            overflow: hidden;
            width: 100%;
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            /* Ensure sections have adequate height for content */
            min-height: 500px;
            height: auto;
            /* Ensure proper background coverage */
            background: transparent;
        }
        
        .parallax-background {
            position: absolute;
            top: 60% !important;
            left: 50%;
            width: 120%;
            height: 120%;
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            background-attachment: scroll;
            z-index: 1;
            /* Center using transform, then adjust for parallax */
            transform: translate(-50%, -50%);
            will-change: transform;
            /* Prevent any gaps during scroll */
            background-clip: border-box;
        }
        
        .parallax-content {
            position: relative;
            z-index: 3;
            padding: 4rem 2rem;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            /* Ensure content takes full height */
            width: 100%;
            height: 100%;
        }
        
        /* Ensure content is readable over background */
        .parallax-content h1,
        .parallax-content h2,
        .parallax-content h3,
        .parallax-content h4,
        .parallax-content h5,
        .parallax-content h6 {
            text-shadow: 3px 3px 6px rgba(0,0,0,0.9);
            color: white !important;
        }
        
        .parallax-content p {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.9);
            color: white !important;
        }
        
        .parallax-content a {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.9);
            color: white !important;
        }
        
        /* Support for inline HTML elements like span, strong, em, etc. */
        .parallax-content span,
        .parallax-content strong,
        .parallax-content em,
        .parallax-content code,
        .parallax-content mark {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.9);
            color: white !important;
        }
        
        /* Ensure content is properly spaced */
        .parallax-content > *:first-child {
            margin-top: 0;
        }
        
        .parallax-content > *:last-child {
            margin-bottom: 0;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .parallax-section {
                min-height: 400px;
            }
            
            .parallax-content {
                padding: 2rem 1rem;
                min-height: 300px;
            }
            
            .parallax-background {
                top: 60% !important;
                width: 130%;
                height: 130%;
            }
        }
        
        @media (max-width: 480px) {
            .parallax-section {
                min-height: 350px;
            }
            
            .parallax-content {
                padding: 1.5rem 1rem;
                min-height: 250px;
            }
            
            .parallax-background {
                top: 60% !important;
                width: 140%;
                height: 140%;
            }
        }
        
        /* Ensure sections maintain proper aspect ratio */
        .parallax-section {
            box-sizing: border-box;
        }
        
        /* Fix for content overflow */
        .parallax-content > * {
            max-width: 100%;
            box-sizing: border-box;
        }
        
        /* Ensure background images always cover the full section */
        .parallax-background {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
            /* Enhanced coverage for scrolling */
            background-clip: border-box !important;
            /* Ensure background extends beyond section boundaries during scroll */
            transform-origin: center center !important;
        }
        
        /* Additional rules for better background coverage during scroll */
        .parallax-section {
            /* Ensure section maintains proper dimensions during scroll */
            transform: translateZ(0);
            backface-visibility: hidden;
        }
        
        /* Enhanced background coverage - no pseudo-elements needed */
        
        /* Ensure background covers everything - simplified approach */
        
        /* Clean, unified background coverage rules */
        .parallax-section {
            overflow: hidden;
            position: relative;
        }
        
        /* Ensure smooth scrolling and prevent background gaps */
        .parallax-section {
            /* Hardware acceleration */
            transform: translateZ(0);
            /* Prevent background clipping */
            clip-path: none;
            /* Ensure proper stacking context */
            isolation: isolate;
        }
        
        /* Ensure background images are fully loaded before display */
        .parallax-background {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        
        .parallax-background.loaded {
            opacity: 1;
        }
        
        /* Fallback for images that fail to load */
        .parallax-background:not([style*="background-image"]) {
            background-color: #f0f0f0;
        }
        
        /* Styling for regular content sections between parallax */
        .parallax-section + h2 {
            margin-top: 4rem;
            margin-bottom: 2rem;
        }
        
        h2 + p {
            margin-top: 1rem;
            margin-bottom: 3rem;
        }
        
        /* Professional section headers */
        h2 {
            color: #1a202c;
            font-size: 2.8rem;
            font-weight: 800;
            text-align: center;
            margin: 3rem 0 1.5rem 0;
            padding: 0;
            border: none;
            background: none;
            position: relative;
            letter-spacing: -0.025em;
        }
        
        /* Add elegant underline to section headers */
        h2 {
            border-bottom: 4px solid transparent;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6) bottom;
            background-size: 60px 4px;
            background-repeat: no-repeat;
            background-position: center bottom;
            padding-bottom: 20px;
        }
        
        /* Section descriptions */
        h2 + p {
            text-align: center;
            font-size: 1.25rem;
            color: #4a5568;
            max-width: 900px;
            margin: 0 auto 3rem auto;
            line-height: 1.7;
            padding: 0 2rem;
            font-weight: 400;
        }
        
        /* Feature Cards - Responsive Grid Layout - High Specificity */
        .features .features-grid,
        section.features .features-grid,
        .features-grid {
            display: grid !important;
            grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
            gap: 1rem !important;
            width: 100% !important;
            margin: 2rem 0 !important;
        }
        
        .features .feature-card,
        section.features .feature-card,
        .features-grid .feature-card,
        .feature-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%) !important;
            border: 1px solid #e2e8f0 !important;
            border-radius: 16px !important;
            padding: 1.5rem !important;
            margin: 0 !important;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
            position: relative !important;
            overflow: hidden !important;
            box-sizing: border-box !important;
            width: 100% !important;
            min-height: 120px !important;
            border-top: 4px solid transparent !important;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899) top, linear-gradient(135deg, #ffffff 0%, #f8fafc 100%) !important;
            background-size: 100% 4px, 100% 100% !important;
            background-repeat: no-repeat !important;
            background-position: center top, center center !important;
            padding-top: 20px !important;
        }
        
        /* Style the h3 headers within feature cards */
        .feature-card h3 {
            background: none !important;
            border: none !important;
            padding: 0 0 1rem 0 !important;
            margin: 0 0 1rem 0 !important;
            box-shadow: none !important;
            font-size: 1.3rem !important;
            font-weight: 700 !important;
            line-height: 1.4 !important;
            color: #1e293b !important;
            text-align: center !important;
            min-height: auto !important;
            width: 100% !important;
            display: block !important;
        }
        
        /* Style the description text within feature cards */
        .feature-card p {
            margin: 0 !important;
            padding: 0 !important;
            color: #4a5568 !important;
            font-size: 1rem !important;
            line-height: 1.6 !important;
            text-align: center !important;
        }
        
        /* Hover effects for feature cards */
        .feature-card:hover {
            transform: translateY(-4px) !important;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
            border-color: #cbd5e1 !important;
        }
        
        /* Create a container for the features that will force the grid layout */
        .parallax-section + h2 + p {
            display: block !important;
            clear: both !important;
            margin-bottom: 2rem !important;
        }
        

        
        /* Responsive grid adjustments - High Specificity */
        @media (max-width: 900px) {
            .features .features-grid,
            section.features .features-grid,
            .features-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
            }
        }
        
        @media (max-width: 560px) {
            .features .features-grid,
            section.features .features-grid,
            .features-grid {
                grid-template-columns: 1fr !important;
            }
        }
</style><script>
        function initParallax() {
            const parallaxSections = document.querySelectorAll(".parallax-section");
            
            if (parallaxSections.length === 0) {
                console.log("No parallax sections found");
                return;
            }
            
            console.log("Found " + parallaxSections.length + " parallax sections");
            
            // Set up scroll event listener for parallax effect
            window.addEventListener("scroll", function() {
                parallaxSections.forEach(function(section) {
                    const rect = section.getBoundingClientRect();
                    const speed = parseFloat(section.dataset.speed) || 0.5;
                    const effect = section.dataset.effect || "scroll";
                    
                    // Apply parallax to visible sections
                    if (rect.top < window.innerHeight && rect.bottom > 0) {
                        const background = section.querySelector(".parallax-background");
                        if (background) {
                            const scrolled = window.pageYOffset;
                            const sectionTop = section.offsetTop;
                            
                            // Simple parallax calculation relative to section position
                            const relativeScroll = scrolled - sectionTop;
                            const rate = relativeScroll * speed * 0.5;
                            
                            // Apply transform while maintaining centering
                            background.style.transform = "translate(-50%, calc(-50% + " + rate + "px))";
                        }
                    }
                });
            });
        }
        
        // Function to set overlay colors and opacity
        function setOverlayStyles() {
            console.log("Setting overlay styles...");
            const parallaxSections = document.querySelectorAll(".parallax-section");
            console.log("Found " + parallaxSections.length + " parallax sections");
            
            parallaxSections.forEach(function(section, index) {
                const overlayColor = section.dataset.overlayColor || "rgba(0,0,0,0.4)";
                const overlayOpacity = section.dataset.overlayOpacity || "0.4";
                
                console.log("Section " + index + " - Color: " + overlayColor + ", Opacity: " + overlayOpacity);
                
                // Convert color names to hex if needed
                let finalColor = overlayColor;
                if (overlayColor.startsWith("rgba")) {
                    finalColor = overlayColor;
                } else if (overlayColor.startsWith("#")) {
                    finalColor = hexToRgba(overlayColor, overlayOpacity);
                } else {
                    finalColor = colorNameToRgba(overlayColor, overlayOpacity);
                }
                
                console.log("Final color: " + finalColor);
                
                // Apply the overlay color directly to the ::before pseudo-element
                const overlayDiv = document.createElement("div");
                overlayDiv.className = "parallax-overlay";
                overlayDiv.style.cssText = "position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: " + finalColor + "; z-index: 1;";
                
                // Remove existing overlay if any
                const existingOverlay = section.querySelector(".parallax-overlay");
                if (existingOverlay) {
                    existingOverlay.remove();
                }
                
                // Insert the overlay before the content
                const content = section.querySelector(".parallax-content");
                if (content) {
                    section.insertBefore(overlayDiv, content);
                    console.log("Overlay added to section " + index);
                } else {
                    console.log("No content found in section " + index);
                }
            });
        }
        
        // Helper function to convert hex to rgba
        function hexToRgba(hex, opacity) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return "rgba(" + r + "," + g + "," + b + "," + opacity + ")";
        }
        
        // Helper function to convert color names to rgba
        function colorNameToRgba(colorName, opacity) {
            const colors = {
                "black": "0,0,0",
                "white": "255,255,255",
                "red": "255,0,0",
                "green": "0,128,0",
                "blue": "0,0,255",
                "yellow": "255,255,0",
                "purple": "128,0,128",
                "orange": "255,165,0",
                "pink": "255,192,203",
                "brown": "165,42,42",
                "gray": "128,128,128",
                "grey": "128,128,128"
            };
            
            const rgb = colors[colorName.toLowerCase()] || "0,0,0";
            return "rgba(" + rgb + "," + opacity + ")";
        }
        
        // Initialize parallax when DOM is ready
        if (document.readyState === "loading") {
            document.addEventListener("DOMContentLoaded", initParallax);
        } else {
            initParallax();
        }
        
        // Also initialize on window load for images
        window.addEventListener("load", function() {
            // Ensure all background images are loaded
            const parallaxSections = document.querySelectorAll(".parallax-section");
            parallaxSections.forEach(function(section) {
                const background = section.querySelector(".parallax-background");
                if (background) {
                    const bgImage = background.style.backgroundImage;
                    if (bgImage && bgImage !== "none") {
                        const imgUrl = bgImage.replace(/url\(["\']?([^"\']+)["\']?\)/, "$1");
                        const img = new Image();
                        img.onload = function() {
                            background.classList.add("loaded");
                        };
                        img.onerror = function() {
                            console.warn("Failed to load parallax background image:", imgUrl);
                        };
                        img.src = imgUrl;
                    } else {
                        background.classList.add("loaded");
                    }
                }
            });
            
            // Initialize overlays after images are loaded
            setOverlayStyles();
        });
</script><!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<title>FearlessCMS - FearlessCMS File Permissions Guide</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">
<link rel="stylesheet" href="/themes/default/assets/style.css">
<script src="https://cdn.tailwindcss.com"></script>
<style>
  
  /* ensure global UI toggles visible if injected */
  .fcms-theme-toggle{display:inline-flex}
</style>
    <style>
      .documentation-layout {
        display: flex;
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
      }
      .documentation-sidebar {
        flex: 0 0 300px;
        padding: 1.5rem;
        border-radius: 8px;
        height: fit-content;
        position: sticky;
        top: 2rem;
      }
      .documentation-content {
        flex: 1;
        max-width: 800px;
      }
      .documentation-sidebar h3 {
        margin-top: 0;
        color: #333;
        border-bottom: 2px solid #007bff;
        padding-bottom: 0.5rem;
      }
      .documentation-sidebar ul {
        list-style: none;
        padding: 0;
      }
      .documentation-sidebar li {
        margin-bottom: 0.5rem;
      }
      .documentation-sidebar a {
        color: #555;
        text-decoration: none;
        padding: 0.25rem 0;
        display: block;
        border-radius: 4px;
        transition: all 0.2s;
      }
      .documentation-sidebar a:hover {
        color: #007bff;
        background: #e9ecef;
        padding-left: 0.5rem;
      }
      .documentation-content h1 {
        font-size: clamp(2.5rem, 1.5rem + 3vw, 3.5rem);
        color: #333;
        border-bottom: 3px solid #007bff;
        padding-bottom: 1rem;
        margin-bottom: 2rem;
      }
      .documentation-content h2 {
        font-size: clamp(1.8rem, 1.15rem + 2vw, 2.5rem);
        color: #444;
        margin-top: 2rem;
        margin-bottom: 1rem;
      }
      .documentation-content h3 {
        color: #555;
        margin-top: 1.5rem;
        margin-bottom: 0.75rem;
      }
      .documentation-content p {
        line-height: 1.6;
        margin-bottom: 1rem;
      }
      .documentation-content code {
        background: #f8f9fa;
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
        font-family: 'Courier New', monospace;
      }
      .documentation-content pre {
        background: #f8f9fa;
        padding: 1rem;
        border-radius: 8px;
        overflow-x: auto;
        border: 1px solid #e9ecef;
      }
      .documentation-content blockquote {
        border-left: 4px solid #007bff;
        padding-left: 1rem;
        margin: 1rem 0;
        font-style: italic;
        color: #666;
      }
      .documentation-content table {
        width: 100%;
        border-collapse: collapse;
        margin: 1rem 0;
      }
      .documentation-content th,
      .documentation-content td {
        border: 1px solid #ddd;
        padding: 0.5rem;
        text-align: left;
      }
      .documentation-content th {
        background: #f8f9fa;
        font-weight: bold;
      }
      .breadcrumb {
        padding: 0.5rem 1rem;
        border-radius: 4px;
        margin-bottom: 2rem;
        font-size: 0.9rem;
        color: #333;
      }
      .breadcrumb a {
        color: #007bff;
        text-decoration: none;
      }
      .breadcrumb a:hover {
        text-decoration: underline;
      }
      
      /* Widget styling for documentation sidebar */
      .widget-documentation-nav {
        margin-bottom: 2rem;
      }
      .widget-documentation-nav .widget-title {
        margin-top: 0;
        color: #333;
        border-bottom: 2px solid #007bff;
        padding-bottom: 0.5rem;
        font-size: 1.1rem;
      }
      .documentation-nav-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .documentation-nav-item {
        margin-bottom: 0.5rem;
      }
      .documentation-nav-link {
        color: #555;
        text-decoration: none;
        padding: 0.25rem 0;
        display: block;
        border-radius: 4px;
        transition: all 0.2s;
        font-size: 0.95rem;
      }
              .documentation-nav-link:hover {
          color: #007bff;
          background: #e9ecef;
          padding-left: 0.5rem;
        }
      
      /* Dark mode support */
      @media (prefers-color-scheme: dark) {
        .documentation-layout {
          background: #0f172a;
          color: #e0e0e0;
        }
        
        .documentation-sidebar {
          background: #1e293b;
          color: #e0e0e0;
          border: 1px solid #475569;
          border-radius: 8px;
        }
        
        .documentation-sidebar h3 {
          color: #e0e0e0;
          border-bottom-color: #007bff;
        }
        
        .documentation-sidebar a {
          color: #b0b0b0;
        }
        
        .documentation-sidebar a:hover {
          color: #007bff;
          background: #404040;
        }
        
        .documentation-content h1 {
          color: #e0e0e0;
          border-bottom-color: #007bff;
        }
        
        .documentation-content h2 {
          color: #d0d0d0;
        }
        
        .documentation-content h3 {
          color: #c0c0c0;
        }
        
        .documentation-content p {
          color: #e0e0e0;
        }
        
        .documentation-content code {
          background: #404040;
          color: #e0e0e0;
        }
        
        .documentation-content pre {
          background: #2d2d2d;
          border-color: #404040;
          color: #e0e0e0;
        }
        
        .documentation-content blockquote {
          border-left-color: #007bff;
          color: #b0b0b0;
        }
        
        .documentation-content table th {
          background: #2d2d2d;
          color: #e0e0e0;
        }
        
        .documentation-content table td {
          color: #e0e0e0;
        }
        
        .documentation-content table th,
        .documentation-content table td {
          border-color: #404040;
        }
        
        .breadcrumb {
          background: #1e293b;
          color: #e0e0e0;
          border: 1px solid #475569;
          border-radius: 6px;
        }
        
        .breadcrumb a {
          color: #007bff;
        }
        
        .widget-documentation-nav .widget-title {
          color: #e0e0e0;
          border-bottom-color: #007bff;
        }
        
        .documentation-nav-link {
          color: #b0b0b0;
        }
        
        .documentation-nav-link:hover {
          color: #007bff;
          background: #404040;
        }
      }
      
      /* Responsive design */
      @media (max-width: 768px) {
        .documentation-layout {
          flex-direction: column;
          padding: 1rem;
        }
        .documentation-sidebar {
          position: static;
          flex: none;
        }
      }
      
      /* Manual dark mode classes */
      .dark-mode .documentation-layout {
        background: #0f172a !important;
        color: #e0e0e0 !important;
      }
      
      .dark-mode .documentation-sidebar {
        background: #1e293b !important;
        color: #e0e0e0 !important;
        border: 1px solid #475569 !important;
        border-radius: 8px !important;
      }
      
      .dark-mode .breadcrumb {
        background: #1e293b !important;
        color: #e0e0e0 !important;
        border: 1px solid #475569 !important;
        border-radius: 6px !important;
      }
      
      .dark-mode .widget-documentation-nav .widget-title {
        color: #e0e0e0 !important;
        border-bottom-color: #007bff !important;
      }
      
      .dark-mode .documentation-nav-link {
        color: #b0b0b0 !important;
      }
      
      .dark-mode .documentation-nav-link:hover {
        color: #007bff !important;
        background: #404040 !important;
      }
    </style>
    

  <style id="fcms-nav-style">\n@media (max-width: 900px){header nav{display:none}header nav.is-open{display:block}.fcms-hamburger{display:inline-flex;gap:6px;flex-direction:column;justify-content:center;align-items:center;width:40px;height:36px;border:1px solid rgba(0,0,0,0.15);border-radius:10px;background:#fff;margin-left:6px} .fcms-hamburger span{display:block;width:20px;height:2px;background:#111;border-radius:2px}}\n@media (prefers-color-scheme: dark){@media (max-width:900px){.fcms-hamburger{background:#0f172a;border-color:rgba(255,255,255,0.25)} .fcms-hamburger span{background:#e5e7eb}}}\n@media (min-width: 901px){.fcms-hamburger{display:none !important}}\n.fcms-theme-toggle{display:inline-flex;align-items:center;justify-content:center;width:40px;height:36px;margin-left:8px;border:1px solid rgba(0,0,0,0.15);border-radius:10px;background:#fff;color:#111;font-size:16px;line-height:1} .fcms-theme-toggle:focus{outline:2px solid #6366f1; outline-offset:2px}\n@media (prefers-color-scheme: dark){.fcms-theme-toggle{background:#0f172a;border-color:rgba(255,255,255,0.25);color:#e5e7eb}}\n</style>
<script id="fcmsThemeInit">\n(function(){\n  var root=document.documentElement;\n  var KEY="fcms-theme";\n  function apply(pref){\n    if(pref==="system"){root.removeAttribute("data-theme");} else {root.setAttribute("data-theme", pref);}\n  }\n  function init(){\n    var pref=localStorage.getItem(KEY)||"system"; apply(pref);\n    window.fcmsSetTheme=function(p){localStorage.setItem(KEY,p);apply(p);return p;};\n    window.fcmsCycleTheme=function(){var seq=["system","light","dark"];var cur=localStorage.getItem(KEY)||"system";var next=seq[(seq.indexOf(cur)+1)%3];localStorage.setItem(KEY,next);apply(next);return next;};\n  }\n  document.addEventListener("DOMContentLoaded", init);\n})();\n(function(){\n  function enhance(){\n    var header=document.querySelector("header"); if(!header) return;\n    var nav=header.querySelector("nav"); if(!nav) return;\n    var parent=nav.parentNode;\n    var enableH=true;\n    var enableT=true;\n    if(enableH){\n      var hb=document.getElementById("fcms-hamburger");\n      if(!hb){ hb=document.createElement("button"); hb.id="fcms-hamburger"; hb.type="button"; hb.className="fcms-hamburger"; hb.setAttribute("aria-label","Toggle navigation"); hb.setAttribute("aria-expanded","false"); hb.innerHTML="<span></span><span></span><span></span>"; try{parent.insertBefore(hb, nav);}catch(e){header.appendChild(hb);} }\n      if(hb && !hb._wired){ hb.addEventListener("click", function(){ var open=nav.classList.toggle("is-open"); hb.setAttribute("aria-expanded", open); }); hb._wired=true; }\n    }\n    if(enableT){\n      var t=document.getElementById("fcms-theme-toggle");\n      if(!t){ t=document.createElement("button"); t.id="fcms-theme-toggle"; t.type="button"; t.className="fcms-theme-toggle"; t.setAttribute("aria-label","Toggle theme (system/light/dark)"); t.title="Theme"; t.textContent="◐"; try{parent.insertBefore(t, nav);}catch(e){header.appendChild(t);} }\n      if(t && !t._wired){ t.addEventListener("click", function(){ var next=window.fcmsCycleTheme?window.fcmsCycleTheme():null; t.setAttribute("data-mode", next); }); t._wired=true; }\n    }\n  }\n  document.addEventListener("DOMContentLoaded", enhance);\n})();\n</script>
</head>
  <body>
    <header class="site-header">
  <div class="container header-inner">
    <a class="brand" href="/">
      
        <img class="brand-logo" src="/uploads/logo_1756077606.png" alt="FearlessCMS">
      
      <span class="brand-text">FearlessCMS</span>
    </a>
    <button id="fcms-hamburger" type="button" class="fcms-hamburger" aria-label="Toggle navigation" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
    <button id="fcms-theme-toggle" type="button" class="fcms-theme-toggle" aria-label="Toggle theme (system/light/dark)" title="Theme">◐</button>
    <nav aria-label="Main navigation">
      <ul class="main-menu"><li class=""><a href="/" class="">Home</a></li><li class=""><a href="/dev-roadmap" class="">Development Roadmap</a></li><li class=""><a href="/documentation" class="">Documentation</a></li><li class=""><a href="/blog" class="">News</a></li><li class=""><a href="https://ko-fi.com/fearlessgeekmedia" class="" target="_blank">Support us on Ko-Fi</a></li><li class=""><a href="https://opencollective.com/fearlesscms/contribute" class="" target="_blank">Support us on Open Collective</a></li><li class=""><a href="https://github.com/fearlessgeekmedia/FearlessCMS" class="" target="_blank">Github</a></li></ul>
    </nav>
  </div>
  <script>
    (function(){
      var root=document.documentElement;
      var KEY='fcms-theme';
      function apply(pref){ if(pref==='system'){ root.removeAttribute('data-theme'); } else { root.setAttribute('data-theme', pref); } }
      try {
        var pref=localStorage.getItem(KEY)||'system';
        apply(pref);
      } catch(e) {}

      var toggle=document.getElementById('fcms-theme-toggle');
      if(toggle){
        toggle.addEventListener('click', function(){
          var seq=['system','light','dark'];
          var cur; try { cur=localStorage.getItem(KEY)||'system'; } catch(e){ cur='system'; }
          var next=seq[(seq.indexOf(cur)+1)%3];
          try { localStorage.setItem(KEY,next); } catch(e) {}
          apply(next);
          toggle.setAttribute('data-mode', next);
        });
      }

      var hb=document.getElementById('fcms-hamburger');
      var nav=document.querySelector('header nav');
      if(hb && nav){
        hb.addEventListener('click', function(){
          var open=nav.classList.toggle('is-open');
          hb.setAttribute('aria-expanded', open);
        });
      }
    })();
  </script>
  
</header>
    <!-- Include file not found: ad-area.html -->
    
    <div class="documentation-layout">
      <aside class="documentation-sidebar">
        <div class="widget widget-documentation-nav"><h3 class="widget-title">Documentation</h3><div class="widget-content"><ul class="documentation-nav-list"><li class="documentation-nav-item"><a href="/documentation" class="documentation-nav-link" title="Getting started with FearlessCMS">Overview</a></li><li class="documentation-nav-item"><a href="/documentation/install" class="documentation-nav-link" title="Install and setup guide">Installation</a></li><li class="documentation-nav-item"><a href="/documentation/gettingstarted" class="documentation-nav-link" title="First steps with your CMS">Getting Started</a></li><li class="documentation-nav-item"><a href="/documentation/export-sites-to-static-html" class="documentation-nav-link" title="Streamlined export system for static site generation">Export to Static HTML</a></li><li class="documentation-nav-item"><a href="/documentation/creating-themes" class="documentation-nav-link" title="Build custom themes">Creating Themes</a></li><li class="documentation-nav-item"><a href="/documentation/plugin-development-guide" class="documentation-nav-link" title="Extend functionality with plugins">Plugin Development</a></li><li class="documentation-nav-item"><a href="/documentation/cms-modes" class="documentation-nav-link" title="Different CMS operation modes">CMS Modes</a></li><li class="documentation-nav-item"><a href="/documentation/file-permissions" class="documentation-nav-link" title="Security and file access">File Permissions</a></li><li class="documentation-nav-item"><a href="/documentation/parallax-plugin" class="documentation-nav-link" title="Add stunning parallax scrolling effects">Parallax Plugin</a></li></ul></div></div><div class="widget widget-documentation-nav"><h3 class="widget-title">Theme Development</h3><div class="widget-content"><ul class="documentation-nav-list"><li class="documentation-nav-item"><a href="/documentation/theme-development-workflow" class="documentation-nav-link" title="Theme development process">Workflow</a></li><li class="documentation-nav-item"><a href="/documentation/theme-templates-reference" class="documentation-nav-link" title="Template system reference">Templates</a></li><li class="documentation-nav-item"><a href="/documentation/theme-options-guide" class="documentation-nav-link" title="Theme configuration options">Options</a></li><li class="documentation-nav-item"><a href="/documentation/sass-theme-guide" class="documentation-nav-link" title="Styling with SASS">SASS Guide</a></li><li class="documentation-nav-item"><a href="/documentation/modular-templates" class="documentation-nav-link" title="Building reusable components">Modular Templates</a></li></ul></div></div><div class="widget widget-documentation-nav"><h3 class="widget-title">Advanced</h3><div class="widget-content"><ul class="documentation-nav-list"><li class="documentation-nav-item"><a href="/documentation/theme-development-index" class="documentation-nav-link" title="Complete development reference">Development Index</a></li><li class="documentation-nav-item"><a href="/documentation/customization-overview" class="documentation-nav-link" title="Advanced customization techniques">Customization</a></li><li class="documentation-nav-item"><a href="/documentation/ad-area-system" class="documentation-nav-link" title="Advertisement area system">AD Areas</a></li></ul></div></div>
      </aside>
      
      <main class="documentation-content">
        <div class="breadcrumb">
          <a href="/">Home</a> &gt; 
          <a href="/documentation">Documentation</a>
          
          &gt; FearlessCMS File Permissions Guide
          
        </div>
        
        <h1>FearlessCMS File Permissions Guide</h1>
        <p><h1>FearlessCMS File Permissions Guide</h1></p><p><h2>Overview</h2>
This document outlines the recommended file permissions for FearlessCMS to function properly without permission errors. The recommended approach is to use proper ownership with standard permissions rather than overly permissive 777/666 permissions.</p><p><h2>Recommended Approach: Proper Ownership</h2></p><p><h3>Web Server User Identification</h3>
First, identify your web server user:
<pre><code>bash
<h1>For Apache</h1>
ps aux | grep apache
<h1>For Nginx with PHP-FPM</h1>
ps aux | grep php-fpm
<h1>For other setups</h1>
ps aux | grep -E "(apache|nginx|httpd)"
</code></pre></p><p>Common web server users:
<ul><li><code>www-data</code> (Ubuntu/Debian)</li>
<li><code>apache</code> (CentOS/RHEL)</li>
<li><code>http</code> (Arch Linux)</li>
<li><code>nginx</code> (some setups)</li></p><p><h3>Setting Proper Ownership</h3>
Set ownership to your web server user (replace <code>http</code> with your actual web server user):</p><p><pre><code>bash
<h1>Set ownership for all critical directories and files</h1>
sudo chown -R http:http /path/to/fearlesscms/sessions/
sudo chown -R http:http /path/to/fearlesscms/content/forms/
sudo chown -R http:http /path/to/fearlesscms/content/form_submissions/
sudo chown -R http:http /path/to/fearlesscms/config/
sudo chown -R http:http /path/to/fearlesscms/uploads/
sudo chown -R http:http /path/to/fearlesscms/admin/uploads/
sudo chown http:http /path/to/fearlesscms/sitemap.xml
sudo chown http:http /path/to/fearlesscms/robots.txt
sudo chown http:http /path/to/fearlesscms/debug.log
</code></pre></p><p><h3>Setting Proper Permissions</h3>
Use standard permissions with proper ownership:</p><p><pre><code>bash
<h1>Set directories to 755</h1>
sudo chmod 755 /path/to/fearlesscms/sessions/
sudo chmod 755 /path/to/fearlesscms/content/forms/
sudo chmod 755 /path/to/fearlesscms/content/form_submissions/
sudo chmod 755 /path/to/fearlesscms/config/
sudo chmod 755 /path/to/fearlesscms/uploads/
sudo chmod 755 /path/to/fearlesscms/admin/uploads/</p><p><h1>Set files to 644</h1>
sudo chmod 644 /path/to/fearlesscms/sitemap.xml
sudo chmod 644 /path/to/fearlesscms/robots.txt
sudo chmod 644 /path/to/fearlesscms/debug.log
</code></pre></p><p><h2>Critical Files and Directories</h2></p><p><h3>Session Management</h3>
<li><code>sessions/</code> - 755 (directory, owned by web server user)</li>
<li>All session files in <code>sessions/</code> - 644 (owned by web server user)</li></p><p><h3>Forms Plugin</h3>
<li><code>content/forms/</code> - 755 (directory, owned by web server user)</li>
<li><code>content/form_submissions/</code> - 755 (directory, owned by web server user)</li>
<li><code>content/forms/forms.log</code> - 644 (owned by web server user)</li></p><p><h3>Configuration Files</h3>
<li><code>config/</code> - 755 (directory, owned by web server user)</li>
<li>All <code>.json</code> files in <code>config/</code> - 644 (owned by web server user)</li></p><p><h3>SEO Files</h3>
<li><code>sitemap.xml</code> - 644 (owned by web server user)</li>
<li><code>robots.txt</code> - 644 (owned by web server user)</li></p><p><h3>Upload Directories</h3>
<li><code>uploads/</code> - 755 (directory, owned by web server user)</li>
<li><code>admin/uploads/</code> - 755 (directory, owned by web server user)</li></p><p><h3>Debug and Log Files</h3>
<li><code>debug.log</code> - 644 (owned by web server user)</li>
<li><code>error.log</code> - 644 (owned by web server user)</li></p><p><h2>Storing Configuration Files Outside Webroot (Recommended)</h2></p><p>For enhanced security, you can store your configuration files outside the web-accessible directory. FearlessCMS supports this via the <code>FCMS_CONFIG_DIR</code> environment variable.</p><p><strong>How to use:</strong></p><p><li>Move your <code>config/</code> directory to a secure location outside your webroot, e.g. <code>/etc/fearlesscms-config</code>.</li>
<li>Set the environment variable in your web server or shell:</li>
   - <strong>Apache:</strong>
     <pre><code>
     SetEnv FCMS_CONFIG_DIR /etc/fearlesscms-config
     </code></pre>
   - <strong>Nginx + PHP-FPM:</strong>
     <pre><code>
     env[FCMS_CONFIG_DIR] = /etc/fearlesscms-config
     </code></pre>
   - <strong>CLI/testing:</strong>
     <pre><code>
     export FCMS_CONFIG_DIR=/etc/fearlesscms-config
     </code></pre>
<li>FearlessCMS will automatically use this directory for all configuration files.</li></p><p><strong>Benefits:</strong>
<li>Prevents direct web access to sensitive config files</li>
<li>Allows for centralized config management in multi-site setups</li></p><p><strong>Note:</strong> You can also set <code>FCMS_ADMIN_CONFIG_DIR</code> for admin-specific config files if needed.</p><p><h2>Quick Fix Commands</h2></p><p><h3>Complete Permission Fix (Recommended)</h3>
<pre><code>bash
<h1>Replace 'http' with your actual web server user</h1>
WEB_USER="http"</p><p><h1>Set ownership for all writable locations</h1>
sudo chown -R $WEB_USER:$WEB_USER /path/to/fearlesscms/sessions/
sudo chown -R $WEB_USER:$WEB_USER /path/to/fearlesscms/content/forms/
sudo chown -R $WEB_USER:$WEB_USER /path/to/fearlesscms/content/form_submissions/
sudo chown -R $WEB_USER:$WEB_USER /path/to/fearlesscms/config/
sudo chown -R $WEB_USER:$WEB_USER /path/to/fearlesscms/uploads/
sudo chown -R $WEB_USER:$WEB_USER /path/to/fearlesscms/admin/uploads/
sudo chown $WEB_USER:$WEB_USER /path/to/fearlesscms/sitemap.xml
sudo chown $WEB_USER:$WEB_USER /path/to/fearlesscms/robots.txt
sudo chown $WEB_USER:$WEB_USER /path/to/fearlesscms/debug.log</p><p><h1>Set proper permissions</h1>
sudo chmod 755 /path/to/fearlesscms/sessions/
sudo chmod 755 /path/to/fearlesscms/content/forms/
sudo chmod 755 /path/to/fearlesscms/content/form_submissions/
sudo chmod 755 /path/to/fearlesscms/config/
sudo chmod 755 /path/to/fearlesscms/uploads/
sudo chmod 755 /path/to/fearlesscms/admin/uploads/
sudo chmod 644 /path/to/fearlesscms/sitemap.xml
sudo chmod 644 /path/to/fearlesscms/robots.txt
sudo chmod 644 /path/to/fearlesscms/debug.log
</code></pre></p><p><h3>Legacy Approach (Not Recommended)</h3>
If you must use overly permissive permissions for development:</p><p><pre><code>bash
<h1>Set all directories to 777 (NOT recommended for production)</h1>
find /path/to/fearlesscms -type d -exec chmod 777 {} \;</p><p><h1>Set all files to 666 (NOT recommended for production)</h1>
find /path/to/fearlesscms -type f -exec chmod 666 {} \;
</code></pre></p><p><h2>Common Permission Errors and Solutions</h2></p><p><h3>Session Errors</h3>
<li><strong>Error</strong>: <code>session_start(): open(...) failed: Permission denied</code></li>
<li><strong>Solution</strong>: Set <code>sessions/</code> directory ownership to web server user with 755 permissions</li></p><p><h3>Forms Plugin Errors</h3>
<li><strong>Error</strong>: <code>mkdir(): Permission denied in plugins/forms/forms.php</code></li>
<li><strong>Solution</strong>: Create <code>content/form_submissions/</code> directory and set ownership to web server user</li></p><p><h3>File Writing Errors</h3>
<li><strong>Error</strong>: <code>file_put_contents(): Failed to open stream: Permission denied</code></li>
<li><strong>Solution</strong>: Set file ownership to web server user with 644 permissions</li></p><p><h3>Configuration Errors</h3>
<li><strong>Error</strong>: <code>Failed to save configuration</code></li>
<li><strong>Solution</strong>: Set <code>config/</code> directory ownership to web server user with 755 permissions</li></p><p><h2>Security Best Practices</h2></p><p><h3>Development Environment</h3>
<li>Use proper ownership (web server user) with standard permissions (755/644)</li>
<li>Avoid overly permissive 777/666 permissions</li>
<li>Test with the actual web server user</li></p><p><h3>Production Environment</h3>
<li>Always use proper ownership with standard permissions</li>
<li>Never use 777/666 permissions</li>
<li>Consider using ACLs for more granular control</li>
<li>Regularly audit file permissions</li>
<li>Store config files outside the webroot using <code>FCMS_CONFIG_DIR</code> when possible</li></p><p><h3>Verification Commands</h3>
<pre><code>bash
<h1>Check current permissions</h1>
ls -la /path/to/fearlesscms/sessions/
ls -la /path/to/fearlesscms/content/forms/
ls -la /path/to/fearlesscms/config/
ls -la /path/to/fearlesscms/uploads/</p><p><h1>Test web server write access</h1>
sudo -u $WEB_USER touch /path/to/fearlesscms/test.txt
sudo -u $WEB_USER rm /path/to/fearlesscms/test.txt
</code></pre></p><p><h2>Troubleshooting</h2></p><p><h3>Check Web Server User</h3>
<pre><code>bash
<h1>For Apache</h1>
ps aux | grep apache
<h1>For Nginx with PHP-FPM</h1>
ps aux | grep php-fpm
<h1>For other setups</h1>
ps aux | grep -E "(apache|nginx|httpd|http)"
</code></pre></p><p><h3>Verify Permissions</h3>
<pre><code>bash
<h1>Check ownership and permissions</h1>
ls -la /path/to/fearlesscms/sessions/ content/forms/ config/ uploads/ sitemap.xml robots.txt debug.log
</code></pre></p><p><h3>Test File Operations</h3>
<pre><code>bash
<h1>Test if web server can write to critical locations</h1>
sudo -u $WEB_USER touch /path/to/fearlesscms/sessions/test.txt
sudo -u $WEB_USER touch /path/to/fearlesscms/content/forms/test.txt
sudo -u $WEB_USER touch /path/to/fearlesscms/config/test.txt
sudo -u $WEB_USER rm /path/to/fearlesscms/sessions/test.txt
sudo -u $WEB_USER rm /path/to/fearlesscms/content/forms/test.txt
sudo -u $WEB_USER rm /path/to/fearlesscms/config/test.txt
</code></pre></p><p><h2>Advanced Security Hardening</h2></p><p><h3>Access Control Lists (ACLs)</h3>
For more granular permission control, consider using ACLs:</p><p><pre><code>bash
<h1>Install ACL tools</h1>
sudo apt install acl</p><p><h1>Set ACLs for fine-grained control</h1>
sudo setfacl -R -m u:www-data:rwx /path/to/fearlesscms/sessions/
sudo setfacl -R -m u:admin:rx /path/to/fearlesscms/sessions/
sudo setfacl -R -m g:developers:rx /path/to/fearlesscms/config/
sudo setfacl -R -d -m u:www-data:rwx /path/to/fearlesscms/sessions/</p><p><h1>View ACL settings</h1>
getfacl /path/to/fearlesscms/sessions/
</code></pre></p><p><h3>SELinux/AppArmor Integration</h3></p><p>#### SELinux Configuration
<pre><code>bash
<h1>Check SELinux status</h1>
sestatus</p><p><h1>Set SELinux contexts for FearlessCMS</h1>
sudo setsebool -P httpd_can_network_connect 1
sudo semanage fcontext -a -t httpd_exec_t "/var/www/html/fearlesscms(/.<em>)?"
sudo restorecon -R /var/www/html/fearlesscms/</p><p><h1>Create custom SELinux policy for FearlessCMS</h1>
sudo ausearch -c 'httpd' --raw | audit2allow -M fearlesscms-policy
sudo semodule -i fearlesscms-policy.pp
</code></pre></p><p>#### AppArmor Profile
<pre><code>bash
<h1>Create AppArmor profile for FearlessCMS</h1>
sudo cat > /etc/apparmor.d/fearlesscms << 'EOF'
#include <tunables/global></p><p>/var/www/html/fearlesscms/<strong> {
  #include <abstractions/base>
  #include <abstractions/web-data>
  
  capability dac_override,
  capability setgid,
  capability setuid,
  
  /var/www/html/fearlesscms/</strong> r,
  /var/www/html/fearlesscms/config/ rw,
  /var/www/html/fearlesscms/sessions/ rw,
  /var/www/html/fearlesscms/uploads/ rw,
  /var/www/html/fearlesscms/cache/ rw,
  
  /tmp/ r,
  /tmp/</em><em> rw,
  
  deny /etc/passwd r,
  deny /etc/shadow r,
  deny /root/ r,
  deny /home/</em>/ r,
}
EOF</p><p><h1>Load the profile</h1>
sudo apparmor_parser -r /etc/apparmor.d/fearlesscms
</code></pre></p><p><h3>Container Security (Docker)</h3></p><p>#### Dockerfile Security
<pre><code>dockerfile
<h1>Use non-root user</h1>
FROM php:8.1-apache
RUN useradd -u 1001 -m fearlesscms
USER fearlesscms</p><p><h1>Set secure file permissions</h1>
COPY --chown=fearlesscms:fearlesscms . /var/www/html/
RUN chmod 700 /var/www/html/config /var/www/html/sessions
RUN chmod 600 /var/www/html/config/<em>.json</p><p><h1>Drop unnecessary capabilities</h1>
RUN apt-get update && apt-get install -y libcap2-bin
RUN setcap -r /usr/local/bin/php
</code></pre></p><p><h3>File Integrity Monitoring</h3></p><p>#### AIDE (Advanced Intrusion Detection Environment)
<pre><code>bash
<h1>Install AIDE</h1>
sudo apt install aide</p><p><h1>Initialize AIDE database</h1>
sudo aideinit</p><p><h1>Create FearlessCMS-specific configuration</h1>
sudo cat >> /etc/aide/aide.conf << 'EOF'
<h1>FearlessCMS monitoring rules</h1>
/var/www/html/fearlesscms/config f+p+u+g+s+m+c+md5+sha256
/var/www/html/fearlesscms/includes f+p+u+g+s+m+c+md5+sha256
/var/www/html/fearlesscms/admin f+p+u+g+s+m+c+md5+sha256
/var/www/html/fearlesscms/themes f+p+u+g+s+m+c+md5+sha256
/var/www/html/fearlesscms/plugins f+p+u+g+s+m+c+md5+sha256</p><p><h1>Exclude frequently changing directories</h1>
!/var/www/html/fearlesscms/sessions
!/var/www/html/fearlesscms/cache
!/var/www/html/fearlesscms/uploads
EOF</p><p><h1>Update AIDE database</h1>
sudo aide --update</p><p><h1>Schedule daily integrity checks</h1>
echo "0 3 </em> <em> </em> /usr/bin/aide --check" | sudo crontab -
</code></pre></p><p>#### Tripwire Configuration
<pre><code>bash
<h1>Install Tripwire</h1>
sudo apt install tripwire</p><p><h1>Configure for FearlessCMS</h1>
sudo cat > /etc/tripwire/twpol.txt << 'EOF'
<h1>FearlessCMS Policy</h1>
(
  rulename = "FearlessCMS Core Files",
  severity = $(SIG_HI)
)
{
  /var/www/html/fearlesscms/config    -> $(SEC_CONFIG);
  /var/www/html/fearlesscms/includes  -> $(SEC_CRIT);
  /var/www/html/fearlesscms/admin     -> $(SEC_CRIT);
  /var/www/html/fearlesscms/base.php  -> $(SEC_CRIT);
  /var/www/html/fearlesscms/index.php -> $(SEC_CRIT);
}
EOF</p><p><h1>Initialize Tripwire</h1>
sudo tripwire --init
</code></pre></p><p><h2>Security Monitoring and Alerting</h2></p><p><h3>Real-time File Monitoring</h3>
<pre><code>bash
<h1>Install inotify tools</h1>
sudo apt install inotify-tools</p><p><h1>Create monitoring script</h1>
sudo cat > /usr/local/bin/fcms-file-monitor.sh << 'EOF'
#!/bin/bash</p><p>WATCH_DIRS="/var/www/html/fearlesscms/config /var/www/html/fearlesscms/admin"
LOG_FILE="/var/log/fcms-file-changes.log"</p><p>inotifywait -m -r --format '%T %w%f %e' --timefmt '%Y-%m-%d %H:%M:%S' \
  $WATCH_DIRS -e modify,create,delete,move,attrib | \
  while read timestamp file event; do
    echo "$timestamp: $event on $file" >> $LOG_FILE
    
    # Alert on critical file changes
    if [[ "$file" =~ \.(php|json)$ ]] && [[ "$event" =~ (MODIFY|CREATE|DELETE) ]]; then
      echo "ALERT: Critical file change detected: $file ($event)" | \
        mail -s "FearlessCMS Security Alert" security@yourdomain.com
    fi
  done
EOF</p><p>chmod +x /usr/local/bin/fcms-file-monitor.sh</p><p><h1>Run as systemd service</h1>
sudo cat > /etc/systemd/system/fcms-monitor.service << 'EOF'
[Unit]
Description=FearlessCMS File Monitor
After=network.target</p><p>[Service]
Type=simple
User=root
ExecStart=/usr/local/bin/fcms-file-monitor.sh
Restart=always</p><p>[Install]
WantedBy=multi-user.target
EOF</p><p>sudo systemctl enable fcms-monitor
sudo systemctl start fcms-monitor
</code></pre></p><p><h3>Log Aggregation and Analysis</h3>
<pre><code>bash
<h1>Install and configure rsyslog for centralized logging</h1>
sudo cat >> /etc/rsyslog.conf << 'EOF'
<h1>FearlessCMS logging</h1>
local0.<em> /var/log/fearlesscms.log
local0.</em> @@logserver.yourdomain.com:514
EOF</p><p><h1>Configure logrotate</h1>
sudo cat > /etc/logrotate.d/fearlesscms << 'EOF'
/var/log/fearlesscms.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    create 640 root adm
    postrotate
        systemctl reload rsyslog
    endscript
}
EOF
</code></pre></p><p><h2>Compliance and Auditing</h2></p><p><h3>PCI DSS Compliance</h3>
<pre><code>bash
<h1>PCI DSS file permission requirements</h1>
<h1>Requirement 2.2.4: Configure system security parameters</h1></p><p><h1>Set restrictive permissions on cardholder data</h1>
chmod 600 /var/www/html/fearlesscms/config/payment.json
chown root:root /var/www/html/fearlesscms/config/payment.json</p><p><h1>Implement file access logging</h1>
sudo cat >> /etc/audit/rules.d/fearlesscms.rules << 'EOF'
<h1>Monitor access to payment configuration</h1>
-w /var/www/html/fearlesscms/config/payment.json -p warx -k payment_access
-w /var/www/html/fearlesscms/plugins/payment/ -p warx -k payment_plugins
EOF</p><p>sudo service auditd restart
</code></pre></p><p><h3>GDPR Compliance</h3>
<pre><code>bash
<h1>Data protection file permissions</h1>
chmod 600 /var/www/html/fearlesscms/config/gdpr.json
chmod 700 /var/www/html/fearlesscms/data/personal/</p><p><h1>Implement data access logging</h1>
sudo cat >> /etc/audit/rules.d/gdpr.rules << 'EOF'
<h1>Monitor access to personal data</h1>
-w /var/www/html/fearlesscms/data/personal/ -p warx -k gdpr_data_access
-w /var/www/html/fearlesscms/config/gdpr.json -p warx -k gdpr_config
EOF
</code></pre></p><p><h3>SOX Compliance</h3>
<pre><code>bash
<h1>Financial data security</h1>
chmod 600 /var/www/html/fearlesscms/config/financial.json
chown root:www-data /var/www/html/fearlesscms/config/financial.json</p><p><h1>Implement change control logging</h1>
sudo cat >> /etc/audit/rules.d/sox.rules << 'EOF'
<h1>Monitor financial system changes</h1>
-w /var/www/html/fearlesscms/config/financial.json -p warx -k sox_financial
-w /var/www/html/fearlesscms/plugins/accounting/ -p warx -k sox_accounting
EOF
</code></pre></p><p><h2>Automated Security Validation</h2></p><p><h3>Permission Validation Script</h3>
<pre><code>bash
<h1>Create automated permission checker</h1>
sudo cat > /usr/local/bin/fcms-security-check.sh << 'EOF'
#!/bin/bash</p><p>FCMS_PATH="/var/www/html/fearlesscms"
REPORT_FILE="/var/log/fcms-security-report.log"
ERROR_COUNT=0</p><p>echo "FearlessCMS Security Check - $(date)" > $REPORT_FILE
echo "==========================================" >> $REPORT_FILE</p><p><h1>Check critical directory permissions</h1>
check_dir_perms() {
    local dir="$1"
    local expected="$2"
    local actual=$(stat -c "%a" "$dir" 2>/dev/null)
    
    if [ "$actual" != "$expected" ]; then
        echo "ERROR: $dir has permissions $actual, expected $expected" >> $REPORT_FILE
        ((ERROR_COUNT++))
    else
        echo "OK: $dir has correct permissions ($actual)" >> $REPORT_FILE
    fi
}</p><p><h1>Check file permissions</h1>
check_file_perms() {
    local file="$1"
    local expected="$2"
    local actual=$(stat -c "%a" "$file" 2>/dev/null)
    
    if [ "$actual" != "$expected" ]; then
        echo "ERROR: $file has permissions $actual, expected $expected" >> $REPORT_FILE
        ((ERROR_COUNT++))
    else
        echo "OK: $file has correct permissions ($actual)" >> $REPORT_FILE
    fi
}</p><p><h1>Check ownership</h1>
check_ownership() {
    local path="$1"
    local expected_user="$2"
    local expected_group="$3"
    local actual_user=$(stat -c "%U" "$path" 2>/dev/null)
    local actual_group=$(stat -c "%G" "$path" 2>/dev/null)
    
    if [ "$actual_user" != "$expected_user" ] || [ "$actual_group" != "$expected_group" ]; then
        echo "ERROR: $path owned by $actual_user:$actual_group, expected $expected_user:$expected_group" >> $REPORT_FILE
        ((ERROR_COUNT++))
    else
        echo "OK: $path has correct ownership ($actual_user:$actual_group)" >> $REPORT_FILE
    fi
}</p><p><h1>Perform checks</h1>
check_dir_perms "$FCMS_PATH/config" "700"
check_dir_perms "$FCMS_PATH/sessions" "700"
check_dir_perms "$FCMS_PATH/uploads" "755"
check_file_perms "$FCMS_PATH/config/auth.json" "600"
check_file_perms "$FCMS_PATH/config/config.json" "600"
check_ownership "$FCMS_PATH/sessions" "www-data" "www-data"
check_ownership "$FCMS_PATH/config" "www-data" "www-data"</p><p><h1>Check for world-writable files</h1>
echo "" >> $REPORT_FILE
echo "Checking for world-writable files:" >> $REPORT_FILE
WORLD_WRITABLE=$(find "$FCMS_PATH" -type f -perm /o+w -not -path "<em>/uploads/</em>" 2>/dev/null)
if [ -n "$WORLD_WRITABLE" ]; then
    echo "ERROR: Found world-writable files:" >> $REPORT_FILE
    echo "$WORLD_WRITABLE" >> $REPORT_FILE
    ((ERROR_COUNT++))
else
    echo "OK: No unexpected world-writable files found" >> $REPORT_FILE
fi</p><p><h1>Check for suspicious files</h1>
echo "" >> $REPORT_FILE
echo "Checking for suspicious files:" >> $REPORT_FILE
SUSPICIOUS=$(find "$FCMS_PATH" -name "<em>.php" -exec grep -l "eval\|base64_decode\|shell_exec" {} \; 2>/dev/null)
if [ -n "$SUSPICIOUS" ]; then
    echo "WARNING: Found files with suspicious content:" >> $REPORT_FILE
    echo "$SUSPICIOUS" >> $REPORT_FILE
    ((ERROR_COUNT++))
else
    echo "OK: No suspicious files detected" >> $REPORT_FILE
fi</p><p><h1>Summary</h1>
echo "" >> $REPORT_FILE
echo "Security Check Summary:" >> $REPORT_FILE
echo "Total Errors: $ERROR_COUNT" >> $REPORT_FILE</p><p>if [ $ERROR_COUNT -gt 0 ]; then
    echo "SECURITY CHECK FAILED - $ERROR_COUNT errors found" >> $REPORT_FILE
    # Send alert email
    mail -s "FearlessCMS Security Check Failed" security@yourdomain.com < $REPORT_FILE
    exit 1
else
    echo "SECURITY CHECK PASSED - No errors found" >> $REPORT_FILE
    exit 0
fi
EOF</p><p>chmod +x /usr/local/bin/fcms-security-check.sh</p><p><h1>Schedule regular security checks</h1>
echo "0 6 </em> <em> </em> /usr/local/bin/fcms-security-check.sh" | crontab -
</code></pre></p><p><h3>Automated Remediation</h3>
<pre><code>bash
<h1>Create auto-fix script for common issues</h1>
sudo cat > /usr/local/bin/fcms-auto-fix.sh << 'EOF'
#!/bin/bash</p><p>FCMS_PATH="/var/www/html/fearlesscms"
WEB_USER="www-data"
LOG_FILE="/var/log/fcms-auto-fix.log"</p><p>echo "FearlessCMS Auto-Fix - $(date)" >> $LOG_FILE</p><p><h1>Fix directory permissions</h1>
fix_permissions() {
    echo "Fixing file permissions..." >> $LOG_FILE
    
    # Set directory permissions
    find "$FCMS_PATH" -type d -exec chmod 755 {} \; 2>> $LOG_FILE
    chmod 700 "$FCMS_PATH/config" "$FCMS_PATH/sessions" "$FCMS_PATH/backups" 2>> $LOG_FILE
    
    # Set file permissions
    find "$FCMS_PATH" -type f -exec chmod 644 {} \; 2>> $LOG_FILE
    chmod 600 "$FCMS_PATH/config"/<em>.json 2>> $LOG_FILE
    
    # Set ownership
    chown -R "$WEB_USER:$WEB_USER" "$FCMS_PATH/sessions" "$FCMS_PATH/config" "$FCMS_PATH/uploads" "$FCMS_PATH/cache" 2>> $LOG_FILE
    
    echo "Permissions fixed" >> $LOG_FILE
}</p><p><h1>Remove world-writable permissions</h1>
fix_world_writable() {
    echo "Removing world-writable permissions..." >> $LOG_FILE
    find "$FCMS_PATH" -type f -perm /o+w -not -path "</em>/uploads/<em>" -exec chmod o-w {} \; 2>> $LOG_FILE
    echo "World-writable permissions removed" >> $LOG_FILE
}</p><p><h1>Create missing .htaccess files</h1>
create_htaccess() {
    echo "Creating missing .htaccess files..." >> $LOG_FILE
    
    for dir in config sessions backups; do
        if [ -d "$FCMS_PATH/$dir" ] && [ ! -f "$FCMS_PATH/$dir/.htaccess" ]; then
            cat > "$FCMS_PATH/$dir/.htaccess" << 'HTACCESS_EOF'
Order deny,allow
Deny from all
HTACCESS_EOF
            echo "Created .htaccess in $dir" >> $LOG_FILE
        fi
    done
}</p><p><h1>Run fixes</h1>
fix_permissions
fix_world_writable
create_htaccess</p><p>echo "Auto-fix completed - $(date)" >> $LOG_FILE
EOF</p><p>chmod +x /usr/local/bin/fcms-auto-fix.sh
</code></pre></p><p><h2>Disaster Recovery</h2></p><p><h3>Permission Backup and Restore</h3>
<pre><code>bash
<h1>Create permission backup script</h1>
sudo cat > /usr/local/bin/fcms-backup-permissions.sh << 'EOF'
#!/bin/bash</p><p>FCMS_PATH="/var/www/html/fearlesscms"
BACKUP_DIR="/backup/permissions"
DATE=$(date +%Y%m%d_%H%M%S)</p><p>mkdir -p "$BACKUP_DIR"</p><p><h1>Backup permissions and ownership</h1>
echo "Backing up FearlessCMS permissions - $DATE" > "$BACKUP_DIR/permissions_$DATE.txt"
find "$FCMS_PATH" -exec stat -c "%n %a %U %G" {} \; >> "$BACKUP_DIR/permissions_$DATE.txt"</p><p><h1>Backup ACLs if present</h1>
if command -v getfacl >/dev/null; then
    getfacl -R "$FCMS_PATH" > "$BACKUP_DIR/acls_$DATE.txt" 2>/dev/null
fi</p><p><h1>Backup SELinux contexts if present</h1>
if command -v getenforce >/dev/null && [ "$(getenforce)" != "Disabled" ]; then
    ls -Z "$FCMS_PATH" -R > "$BACKUP_DIR/selinux_$DATE.txt" 2>/dev/null
fi</p><p>echo "Permission backup completed: $BACKUP_DIR/permissions_$DATE.txt"
EOF</p><p><h1>Create permission restore script</h1>
sudo cat > /usr/local/bin/fcms-restore-permissions.sh << 'EOF'
#!/bin/bash</p><p>if [ $# -ne 1 ]; then
    echo "Usage: $0 <backup_file>"
    exit 1
fi</p><p>BACKUP_FILE="$1"</p><p>if [ ! -f "$BACKUP_FILE" ]; then
    echo "Backup file not found: $BACKUP_FILE"
    exit 1
fi</p><p>echo "Restoring permissions from $BACKUP_FILE"</p><p>while IFS=' ' read -r file perms user group; do
    if [ -e "$file" ]; then
        chmod "$perms" "$file" 2>/dev/null
        chown "$user:$group" "$file" 2>/dev/null
        echo "Restored: $file ($perms $user:$group)"
    fi
done < "$BACKUP_FILE"</p><p>echo "Permission restore completed"
EOF</p><p>chmod +x /usr/local/bin/fcms-backup-permissions.sh
chmod +x /usr/local/bin/fcms-restore-permissions.sh</p><p><h1>Schedule daily permission backups</h1>
echo "0 1 </em> <em> </em> /usr/local/bin/fcms-backup-permissions.sh" | crontab -
</code></pre></p><p><h2>Notes</h2>
<li>This approach is more secure than using 777/666 permissions</li>
<li>Always backup before changing permissions on production systems</li>
<li>The web server user must have read/write access to specific directories</li>
<li>Consider using deployment scripts to automate permission setup</li>
<li>Regular permission audits help maintain security</li>
<li>Implement monitoring and alerting for permission changes</li>
<li>Use principle of least privilege for all file access</li>
<li>Consider compliance requirements for your industry</li>
<li>Test security measures in staging environment first</li>
<li>Document all security configurations and procedures</li></ul>
</p>
      </main>
    </div>
    
    <footer class="site-footer">
  <div class="container">
    Fearless Geek Media &copy; 2025
  </div>
</footer>
  </body>
</html> 